#!/usr/bin/env bash

bin=$(dirname ${BASH_SOURCE[0]})
bin=$(cd "$bin"; pwd)

export {{PROJECT_NAME}}_HOME=${{'{'}}{{PROJECT_NAME}}_HOME:-$(cd "$bin"/../; pwd)}
export {{PROJECT_NAME}}_CONF_DIR=${{'{'}}{{PROJECT_NAME}}_CONF_DIR:-"${{PROJECT_NAME}}_HOME"/conf}

if [ -f "${{PROJECT_NAME}}_CONF_DIR"/{{project__name}}-env.sh ]; then
    . "${{PROJECT_NAME}}_CONF_DIR"/{{project__name}}-env.sh
fi

if [ -n "$VIRTUAL_ENV" ]; then
    . "$VIRTUAL_ENV"/bin/activate
fi

export {{PROJECT_NAME}}_LOG_DIR=${{'{'}}{{PROJECT_NAME}}_LOG_DIR:-"${{PROJECT_NAME}}_HOME"/.log}
export {{PROJECT_NAME}}_PID_DIR=${{'{'}}{{PROJECT_NAME}}_PID_DIR:-"${{PROJECT_NAME}}_HOME"/.pid}
export {{PROJECT_NAME}}_ID_STRING=${{'{'}}{{PROJECT_NAME}}_ID_STRING:-$USER}
